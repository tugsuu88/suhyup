<%@ page contentType="text/html;charset=euc-kr"%><%@ page import="java.io.*"%><%@ page import="java.sql.*"%><%@ page import="java.util.*"%><%@ page import="javax.sql.*"%><%@ page import="javax.naming.*"%><%@ page import="java.lang.*"%><%@ page import="java.text.*"%><%@ page import="oracle.jdbc.driver.*"%><%@ page import="oracle.sql.*"%><%@ page import="util.SysException"%><%@ page import="util.Converter"%><%!	public int getDataInfoCnt(String div, String srchtxt) throws Exception{		DataSource ds = null;		Connection con = null;		PreparedStatement pstmt = null;		Statement stmt = null;		ResultSet rs = null;		String sql = null;		int iRetrun=0;		try		{			Context ic = new InitialContext();			ds = (DataSource) ic.lookup("java:comp/env/jdbc/ora816");			con = ds.getConnection();						sql =  " SELECT	COUNT(SH_SEQ_NO) AS cnt"				+ " FROM	sh_commodity";				//+ " WHERE sh_title is not null ";			//out.println("DataMgr : getNotiInfoCnt -> " + sql );						pstmt = con.prepareStatement(sql);			rs = pstmt.executeQuery();									while (rs.next())			{				iRetrun=rs.getInt("cnt");								} 							}		catch( Exception e)		{			iRetrun=0;								//out.println("Eceeption Error["+e+"]");			throw new SysException(e,"getDataInfoCnt 에러");		}		finally		{			if (pstmt != null) try { pstmt.close(); } catch(SQLException ex1) {}			if (rs != null) try { rs.close(); } catch(SQLException ex2) {}			if (con != null) con.close();					}			return iRetrun;	}%><%="func test:["+getDataInfoCnt("","")+"]"%>